<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 238. 除自身以外数组的乘积
    给你一个长度为 n 的整数数组 nums，其中 n > 1，返回输出数组 output ，其中 output[i] 等于 nums 中除 nums[i] 之外其余各元素的乘积。

    示例:

    输入: [1,2,3,4]
    输出: [24,12,8,6]


    提示：题目数据保证数组之中任意元素的全部前缀元素和后缀（甚至是整个数组）的乘积都在 32 位整数范围内。

    说明: 请不要使用除法，且在 O(n) 时间复杂度内完成此题。 -->
    <script>
        /**
        * @param {number[]} nums
        * @return {number[]}
        * time O(n)
        * space O(n)
        */
        var productExceptSelf = function (nums) {
            if (!nums.length) return nums;
            const res = [];
            // 从左向右遍历，res保存的是第i个元素左边所有数字的乘积
            for (let i = 0, temp = 1; i < nums.length; i++) {
                res[i] = temp;
                temp *= nums[i];
            }
            // 再从右向左遍历，得到第i位右边所有数字乘积
            for (let i = nums.length - 1, temp = 1; i >= 0; i--) {
                res[i] *= temp;
                temp *=nums[i];
            }
            return res;
        };
    </script>
</body>

</html>