<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 287. 寻找重复数
    给定一个包含 n + 1 个整数的数组 nums ，其数字都在 1 到 n 之间（包括 1 和 n），可知至少存在一个重复的整数。
    
    假设 nums 只有 一个重复的整数 ，找出 这个重复的数 。
    
    你设计的解决方案必须不修改数组 nums 且只用常量级 O(1) 的额外空间。
    
     
    
    示例 1：
    
    输入：nums = [1,3,4,2,2]
    输出：2
    示例 2：
    
    输入：nums = [3,1,3,4,2]
    输出：3
    示例 3：
    
    输入：nums = [1,1]
    输出：1
    示例 4：
    
    输入：nums = [1,1,2]
    输出：1 -->
    <script>
        /**
        * @param {number[]} nums
        * @return {number}
        */
        // 用142 检测环形链的方法
        // time O(n)
        // space O(1)
        // 举例：
        // 3 1 3 4 2 （原数组）
        // 0 1 2 3 4  (index)
        // index 和原数组有一一对应的关系
        // 0 - 3
        // 1 - 1
        // 2 - 3
        // 3 - 4 
        // 4 - 2
        // slow 一次走一步  O - 3       3 - 4       4 - 2       2 - 1   1 - 1
        // fast 一次走两步  0 - 3 - 4   4 - 2 - 1   1 - 1 - 1
        // 因为原数组有一个 1 - n 的重复数字
        // 那么这个重复的数字可以理解为是环的起点，就像142题一样找到环起点并返回这个数即可
        var findDuplicate = function (nums) {
            let slow = nums[0];
            let fast = nums[nums[0]];
            // 没有相遇则让双指针继续行走
            while (slow != fast) {
                slow = nums[slow];
                fast = nums[nums[fast]];
            }
            // 相遇了后，重置fast指针，让他从起点开始和slow同时行走，并在环的起点相遇
            fast = 0;
            while (slow != fast) {
                slow = nums[slow];
                fast = nums[fast];
            }
            return slow;
        };

    </script>
</body>

</html>