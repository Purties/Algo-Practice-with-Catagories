<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 53. 最大子序和
    给定一个整数数组 nums ，找到一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。

    示例 1：
    输入：nums = [-2,1,-3,4,-1,2,1,-5,4]
    输出：6
    解释：连续子数组 [4,-1,2,1] 的和最大，为 6 。

    示例 2：
    输入：nums = [1]
    输出：1

    示例 3：
    输入：nums = [0]
    输出：0

    示例 4：
    输入：nums = [-1]
    输出：-1

    示例 5：
    输入：nums = [-100000]
    输出：-100000 -->
    <script>
        /**
         * @param {number[]} nums
         * @return {number}
         */
        var maxSubArray = function (nums) {
            // 贪心：若当前指针所指元素之前的和小于0，则丢弃当前元素之前的队列
            if (!nums.length === 1) return nums[0];
            let sum = nums[0];
            let max = nums[0];
            for (let i = 1; i < nums.length; i++) {
                sum = sum < 0 ? nums[i] : nums[i] + sum;
                max = Math.max(max, sum);
                // console.log('当前数字为',nums[i],'sum是',sum);
                // console.log('max是',max);
            }
            return max;
        };

        var maxSubArray2 = function (nums) {
            // dp 若dp[i-1]大于0，则将其加到当前元素上
            if (!nums.length === 1) return nums[0];
            let dp = new Array(nums.length);
            let max = dp[0] = nums[0];
            for (let i = 1; i < nums.length; i++) {
                dp[i] = dp[i-1] < 0 ? nums[i]:nums[i] + dp[i-1];
                max = Math.max(max, dp[i]);
                console.log('当前数字为',nums[i],'dp[i]是',dp[i]);
                console.log('max是',max);
            }
            return res;
        };
        let nums = [-2, 1, -3, 4, -1, 2, 1, -5, 4];
        // console.log(maxSubArray(nums));
        console.log(maxSubArray2(nums));
    </script>
</body>

</html>