<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- 448. 找到所有数组中消失的数字
    给你一个含 n 个整数的数组 nums ，其中 nums[i] 在区间 [1, n] 内。请你找出所有在 [1, n] 范围内但没有出现在 nums 中的数字，并以数组的形式返回结果。

    示例 1：

    输入：nums = [4,3,2,7,8,2,3,1]
    输出：[5,6]
    示例 2：

    输入：nums = [1,1]
    输出：[2] -->
    <script>
        /**
         * @param {number[]} nums
         * @return {number[]}
         */
        // 题目和 442. Find All Duplicates in an Array（实现题）类似，都是给定 1 <= a[i] <= n，可得知nums中所有值可以其索引有对应关系
        // [ 4, 3, 2, 7, 8, 2, 3, 1]   输入  范围[1,8]
        // [ 4, 3, 2,-7, 8, 2, 3, 1]   i = 0  index 为 4 - 1 = 3
        // [ 4, 3,-2,-7, 8, 2, 3, 1]   i = 1  index 为 3 - 1 = 2 
        // [ 4,-3,-2,-7, 8, 2, 3, 1]   i = 2  index 为 2 - 1 = 1
        // [ 4,-3,-2,-7, 8, 2,-3, 1]   i = 3  index 为 7 - 1 = 6
        // [ 4,-3,-2,-7, 8, 2,-3,-1]   i = 4  index 为 8 - 1 = 7
        // [ 4,-3,-2,-7, 8, 2,-3,-1]   i = 5  index 为 2 - 1 = 1
        // [ 4,-3,-2,-7, 8, 2,-3,-1]   i = 6  index 为 3 - 1 = 2
        // [-4,-3,-2,-7, 8, 2,-3,-1]   i = 7  index 为 1 - 1 = 0
        // [ 0, 1, 2, 3, 4, 5, 6, 7]   index 范围[0,7]
        var findDisappearedNumbers = function (nums) {
            let res = [];
            for (let i = 0; i < nums.length; i++) {
                // 得到我们想要反转的index
                let index = Math.abs(nums[i]) - 1;
                // 碰到正数就取反
                if (nums[index] > 0) {
                    nums[index] = -nums[index];
                }
            };
            // 经过一次遍历后我们只需要找到数字是正数的index + 1
            for (let i = 0; i < nums.length; i++) {
                if (nums[i] > 0) {
                    res.push(i + 1);
                }
            }
            return res;
        };
        let nums = [4, 3, 2, 7, 8, 2, 3, 1];
        console.log(findDisappearedNumbers(nums));
    </script>
</body>

</html>